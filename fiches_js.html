<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fiches Pédagogiques JavaScript</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="main.css" />
</head>

<body class="bg-gray-100 font-sans text-gray-800">
  <header id="header" class="sticky top-0 z-50 bg-white shadow mb-6"></header>

  <main class="max-w-6xl mx-auto px-4 py-6">
    <h1 class="text-3xl md:text-4xl font-bold text-center text-yellow-500 mb-10">
      Fiches Pédagogiques JavaScript
    </h1>

    <div id="cards-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- Les fiches seront injectées ici -->
    </div>
  </main>

  <script>
    fetch('bdd/fiches_js.json')
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById('cards-container');

        data.forEach(fiche => {
          const card = document.createElement('div');
          card.className =
            'bg-white shadow-md rounded-lg p-5 hover:shadow-xl transition duration-300 ease-in-out';

          card.innerHTML = `
              <p class="text-sm text-gray-500 mb-1">${fiche.fichier}</p>
              <h2 class="text-lg font-semibold text-yellow-500 mb-2">${fiche.competence}</h2>
              <section class="text-sm text-gray-700 space-y-2">
                <div>${fiche.objectif}</div>
                <div>${fiche.theorie}</div>
                <div>${fiche.exemple}</div>
                <div>${fiche.sources}</div>
                <div>${fiche.infos_supplementaires || ''}</div>
              </section>
            `;

          container.appendChild(card);
        });
        document.querySelectorAll("#cards-container h3").forEach(h3 => {
          h3.classList.add(
            'text-lg',           // taille de police
            'font-semibold',     // graisse
            'text-gray-800',     // couleur
            'mb-2',              // marge bas
            'mt-4'               // marge haut
          );
        });
        document.querySelectorAll('#cards-container a').forEach(link => {
          link.classList.add(
            'text-blue-600',
            'hover:underline',
            'hover:text-blue-800',
            'transition-colors',
            'duration-200'
          );
          link.setAttribute('target', '_blank'); // optionnel : ouvre dans un nouvel onglet
        });
      })
      .catch(error => {
        console.error('Erreur lors du chargement des fiches :', error);
      });

  </script>

  <script src="composants/header.js"></script>
</body>

</html>